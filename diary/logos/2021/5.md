# 5

* 05052021
  * TAG：pytorch，index，tensor
  * 问题：实现对 batch 中的每个 example 做 index select 运算
  * 解决：expand + gather
  * ref： [https://discuss.pytorch.org/t/batched-index-select/9115/9](https://discuss.pytorch.org/t/batched-index-select/9115/9)
* 05062021
  * TAG：VS CODE，python，Intellicode
  * 问题：为 python 代码配置 Intellicode 
  * 解决：按照 Intellicode 的 readme 配置，需要安装 Python 插件和 Pylance 插件，然后在 python 插件的 settings 中把 language server 设置为 Pylance。Python 插件的工作目录是 workspace 所在目录，为了让插件能找到代码引用的第三方代码，需要在 workspace 的配置文件（.code-workspace）的 settings 一项中增加 `python.analysis.extraPaths` 列表，在其中列出代码引用的第三方包的路径。
  * ref：[https://github.com/microsoft/pylance-release/blob/main/TROUBLESHOOTING.md\#unresolved-import-warnings](https://github.com/microsoft/pylance-release/blob/main/TROUBLESHOOTING.md#unresolved-import-warnings)
* 05072021
  * TAG：Windows，conda，PowerShell / PS
  * 问题：PowerShell 中 conda 环境始终为 base，无法 deactivate 也无法激活其他虚拟环境
  * 解决：在 PS 中执行 `conda init powershell` 后再进行 conda 操作
  * ref：[https://github.com/conda/conda/issues/8428](https://github.com/conda/conda/issues/8428)
* 05092021
  * TAG：linux, bash, symbolic link
  * 问题：寻找当前目录下所有的软连接
  * 解决：`find . -maxdepth 1 -type l -ls` 
  * ref：[https://askubuntu.com/questions/522051/how-to-list-all-symbolic-links-in-a-directory](https://askubuntu.com/questions/522051/how-to-list-all-symbolic-links-in-a-directory)
* 05282021
  * TAG：unity
  * 问题：`SocketException: An attempt was made to access a socket in a way forbidden by its access permissions.`  
  * 解决：重启 Unity
  * ref：[https://forum.unity.com/threads/socketexception-an-attempt-was-made-to-access-a-socket-in-a-way-forbidden-by-its-access-permissions.382724/](https://forum.unity.com/threads/socketexception-an-attempt-was-made-to-access-a-socket-in-a-way-forbidden-by-its-access-permissions.382724/)
  * TAG：Visual Studio，Lib，DLL
  * 问题：`error LNK1107: invalid or corrupt file` 
  * 解决：误把 dll 文件添加到 project property 的 additional input 中。
  * ref：[https://stackoverflow.com/questions/35916703/error1-error-lnk1107-invalid-or-corrupt-file-cannot-read-at-0x2b0/35920570](https://stackoverflow.com/questions/35916703/error1-error-lnk1107-invalid-or-corrupt-file-cannot-read-at-0x2b0/35920570)
  * TAG：PyTorch， CUDA
  * 问题：在 DataLoader 中使用复数个 woker 时报错`RuntimeError: Cannot re-initialize CUDA in forked subprocess. To use CUDA with multiprocessing, you must use the 'spawn' start method` 
  * 解决：

    ```text
    from torch.multiprocessing import Pool, Process, set_start_method
    try:
         set_start_method('spawn')
    except RuntimeError:
        pass
    ```

  * ref：[https://stackoverflow.com/questions/48822463/how-to-use-pytorch-multiprocessing](https://stackoverflow.com/questions/48822463/how-to-use-pytorch-multiprocessing)
  * TAG：linux，cmp
  * 问题：需要比较两个二进制文件是否一致。
  * 解决：

    ```text
    cmp -l file1.bin file2.bin | gawk '{printf "%08X %02X %02X\n", $1, strtonum(0$2), strtonum(0$3)}'
    ```

  * ref：[https://superuser.com/questions/125376/how-do-i-compare-binary-files-in-linux](https://superuser.com/questions/125376/how-do-i-compare-binary-files-in-linux)
  * TAG：Windows，xcopy
  * 问题：需要在 Visual Studio 完成构建后（post build）进行一些复制操作。
  * 解决：xcopy
  * ref：[https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/xcopy](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/xcopy)
  * TAG：Visual Studio
  * 问题：在一个 Solution 中构建多个 Project 时，需要设置 Project 之间的依赖（其中一个依赖另一个产生的链接库文件）。
  * 解决：使用项目右键  - Add - Reference。
  * ref：[https://stackoverflow.com/questions/31886670/add-a-dependency-reference-to-your-own-dll-project-in-visual-studio-2013/31886671](https://stackoverflow.com/questions/31886670/add-a-dependency-reference-to-your-own-dll-project-in-visual-studio-2013/31886671)
  * TAG：OpenCV，图像处理
  * 问题：探测摄像头中的红色区域
  * 解决：采用图像的 HSV 表示。
  * ref：[https://blog.csdn.net/kakiebu/article/details/79476235](https://blog.csdn.net/kakiebu/article/details/79476235)
  * ref：[https://blog.csdn.net/pmj110119/article/details/86766994](https://blog.csdn.net/pmj110119/article/details/86766994)

